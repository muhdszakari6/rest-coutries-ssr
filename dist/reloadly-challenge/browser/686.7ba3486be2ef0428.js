"use strict";(self.webpackChunkreloadly_challenge=self.webpackChunkreloadly_challenge||[]).push([[686],{6686:(tt,Z,s)=>{s.r(Z),s.d(Z,{CountryModule:()=>q});var y=s(4035),r=s(5620);const C=(0,r.PH)("Get Border Countries",(0,r.Ky)()),m=(0,r.PH)("Get Border Countries Success",(0,r.Ky)()),v=(0,r.PH)("Get Border Countries Failure",(0,r.Ky)()),j=(0,r.PH)("Get Border Country Refresh"),h=(0,r.PH)("Get Country",(0,r.Ky)()),b=(0,r.PH)("Get Country Success",(0,r.Ky)()),T=(0,r.PH)("Get Country Failure",(0,r.Ky)()),U=(0,r.PH)("Get Country Refresh"),A={country:void 0,error:"",loading:!1,borderCountries:[],borderCountriesLoading:!1,borderCountriesError:""},F=(0,r.Lq)(A,(0,r.on)(h,(n,e)=>Object.assign(Object.assign({},n),{loading:!0})),(0,r.on)(b,(n,e)=>Object.assign(Object.assign({},n),{loading:!1,error:"",country:e.country})),(0,r.on)(T,(n,e)=>Object.assign(Object.assign({},n),{loading:!1,error:e.error,country:void 0})),(0,r.on)(U,(n,e)=>Object.assign(Object.assign({},n),A)),(0,r.on)(C,(n,e)=>Object.assign(Object.assign({},n),{borderCountriesLoading:!0,borderCountriesError:"",borderCountries:[]})),(0,r.on)(m,(n,e)=>Object.assign(Object.assign({},n),{borderCountries:e.countries,borderCountriesError:"",borderCountriesLoading:!1})),(0,r.on)(v,(n,e)=>Object.assign(Object.assign({},n),{borderCountries:[],borderCountriesError:e.error,borderCountriesLoading:!1})),(0,r.on)(j,(n,e)=>Object.assign(Object.assign({},n),{borderCountries:[],borderCountriesError:"",borderCountriesLoading:!1}))),g=(0,r.ZF)("country"),_=(0,r.P1)(g,n=>n.country),B=(0,r.P1)(g,n=>n.borderCountries),P=(0,r.P1)(g,n=>n.borderCountriesLoading),S=(0,r.P1)(g,n=>n.loading),$=(0,r.P1)(g,n=>n.error);var t=s(5e3),d=s(9808),J=s(7423),N=s(5245),G=s(6931),Y=s(1522),E=s(5899);let H=(()=>{class n{transform(o,...u){return Object.values(o||{})[0]}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=t.Yjl({name:"firstObjValue",type:n,pure:!0}),n})();function I(n,e){1&n&&t._UZ(0,"app-page-loader")}function M(n,e){1&n&&t._UZ(0,"app-error-state",5),2&n&&t.Q6J("msg",e.ngIf)}function R(n,e){1&n&&t._UZ(0,"mat-progress-bar",15)}function Q(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw(3).goToCountry(a.name.common)}),t._uU(1),t.qZA()}if(2&n){const o=e.$implicit;t.xp6(1),t.hij(" ",o.name.common," ")}}function K(n,e){if(1&n&&(t.TgZ(0,"div",6),t._UZ(1,"img",7),t.TgZ(2,"div",8)(3,"h2",9),t._uU(4),t.qZA(),t.TgZ(5,"div",10)(6,"div")(7,"p"),t._uU(8,"Native name: "),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"firstObjValue"),t.ALo(12,"firstObjValue"),t.qZA()(),t.TgZ(13,"p"),t._uU(14,"Population: "),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"number"),t.qZA()(),t.TgZ(18,"p"),t._uU(19,"Region: "),t.TgZ(20,"span"),t._uU(21),t.qZA()(),t.TgZ(22,"p"),t._uU(23,"Sub Region: "),t.TgZ(24,"span"),t._uU(25),t.qZA()(),t.TgZ(26,"p"),t._uU(27,"Capital: "),t.TgZ(28,"span"),t._uU(29),t.qZA()()(),t.TgZ(30,"div",11)(31,"p"),t._uU(32,"Top Level Domaine: "),t.TgZ(33,"span"),t._uU(34),t.qZA()(),t.TgZ(35,"p"),t._uU(36,"Currencies: "),t.TgZ(37,"span"),t._uU(38),t.ALo(39,"firstObjValue"),t.ALo(40,"firstObjValue"),t.qZA()(),t.TgZ(41,"p"),t._uU(42,"Languages: "),t.TgZ(43,"span"),t._uU(44),t.ALo(45,"firstObjValue"),t.qZA()()()(),t.TgZ(46,"div",12)(47,"p"),t._uU(48,"Border Countries: "),t.qZA(),t.YNc(49,R,1,0,"mat-progress-bar",13),t.ALo(50,"async"),t.YNc(51,Q,2,1,"button",14),t.ALo(52,"async"),t.qZA()()()),2&n){const o=e.ngIf,u=t.oxw(2);t.xp6(1),t.Q6J("src",null==o||null==o.flags?null:o.flags.svg,t.LSH)("alt",null==o||null==o.name?null:o.name.common),t.xp6(3),t.Oqu(o.name.common),t.xp6(6),t.hij(" ",t.lcZ(11,13,t.lcZ(12,15,null==o.name?null:o.name.nativeName))," "),t.xp6(6),t.hij(" ",t.lcZ(17,17,null==o?null:o.population)," "),t.xp6(5),t.hij(" ",null==o?null:o.region," "),t.xp6(4),t.hij(" ",null==o?null:o.subregion," "),t.xp6(4),t.hij(" ",null==o?null:o.capital," "),t.xp6(5),t.hij(" ",null==o?null:o.tld," "),t.xp6(4),t.hij(" ",t.lcZ(39,19,t.lcZ(40,21,null==o?null:o.currencies))," "),t.xp6(6),t.hij(" ",t.lcZ(45,23,null==o?null:o.languages)," "),t.xp6(5),t.Q6J("ngIf",t.lcZ(50,25,u.borderCountriesLoading$)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(52,27,u.borderCountries$))}}function V(n,e){if(1&n&&(t.ynx(0),t.YNc(1,M,1,1,"app-error-state",3),t.ALo(2,"async"),t.YNc(3,K,53,29,"div",4),t.ALo(4,"async"),t.BQk()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,o.error$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,4,o.country$))}}const z=[{path:"",component:(()=>{class n{constructor(o,u,p,a){this.location=o,this.store=u,this.route=p,this.router=a,this.country$=this.store.select(_),this.borderCountries$=this.store.select(B),this.loading$=this.store.select(S),this.borderCountriesLoading$=this.store.select(P),this.error$=this.store.select($),this.routeParamsSub=this.route.params.subscribe(i=>{this.store.dispatch(h({countryName:i.name}))})}back(){this.location.back()}goToCountry(o){this.router.navigate([o])}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(d.Ye),t.Y36(r.yh),t.Y36(y.gz),t.Y36(y.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-country"]],decls:8,vars:6,consts:[["data-test","back-btn","type","button","mat-button","",1,"cta-button",3,"click"],["fontSet","material-icons-outlined"],[4,"ngIf"],[3,"msg",4,"ngIf"],["class","country",4,"ngIf"],[3,"msg"],[1,"country"],["data-test","country-flag","width","250","alt","",3,"src","alt"],[1,"country-details"],["data-test","country-name"],[1,"flex-btw","country-more"],[1,"sub-section"],[1,"border-countries"],["color","accent","mode","indeterminate",4,"ngIf"],["data-test","border-countries","class","cta-button","type","button","mat-button","",3,"click",4,"ngFor","ngForOf"],["color","accent","mode","indeterminate"],["data-test","border-countries","type","button","mat-button","",1,"cta-button",3,"click"]],template:function(o,u){1&o&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return u.back()}),t.TgZ(1,"mat-icon",1),t._uU(2,"arrow_back"),t.qZA(),t._uU(3," Back\n"),t.qZA(),t.YNc(4,I,1,0,"app-page-loader",2),t.ALo(5,"async"),t.YNc(6,V,5,6,"ng-container",2),t.ALo(7,"async")),2&o&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,2,u.loading$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(7,4,u.loading$)))},directives:[J.lW,N.Hw,d.O5,G.f,Y.R,E.pW,d.sg],pipes:[d.Ov,H,d.JJ],styles:[""]}),n})()}];let W=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[y.Bz.forChild(z)],y.Bz]}),n})();var X=s(5223),l=s(6642),O=s(3900),f=s(9646),x=s(4004),L=s(262),k=s(158);let w=(()=>{class n{constructor(o,u,p){this.actions$=o,this.store=u,this.countriesService=p,this.cache=new Map,this.country$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(h),(0,O.w)(a=>{const i=JSON.stringify(a);return this.cache.has(i)?(this.cache.get(i).borders?this.store.dispatch(C({codes:this.cache.get(i).borders})):this.store.dispatch(j()),(0,f.of)(b({country:this.cache.get(i)}))):this.countriesService.getCountryByFullText(a.countryName).pipe((0,x.U)(c=>(this.cache.set(i,c[0]),c[0].borders&&this.store.dispatch(C({codes:c[0].borders})),b({country:c[0]}))),(0,L.K)(c=>(0,f.of)(T({error:c}))))}))),this.border_countries$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(C),(0,O.w)(a=>{const i=JSON.stringify(a);return this.cache.has(i)?(0,f.of)(m({countries:this.cache.get(i)})):this.countriesService.getBorderCountries(a.codes).pipe((0,x.U)(c=>(this.cache.set(i,c),m({countries:c}))),(0,L.K)(c=>(0,f.of)(v({error:c}))))})))}}return n.\u0275fac=function(o){return new(o||n)(t.LFG(l.eX),t.LFG(r.yh),t.LFG(k.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var D=s(9511);let q=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[W,D.CountriesModule,X.m,r.Aw.forFeature("country",F),l.sQ.forFeature([w])]]}),n})()}}]);